<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ—¥æœ¬è¦ªå­è¡Œç¨‹</title>

<script src="https://cdn.tailwindcss.com"></script>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#F97316">

<link rel="apple-touch-icon" href="icon-192.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="æ—¥æœ¬è¡Œç¨‹">

<style>
body { padding-bottom: 80px; }
.day-header {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #F97316;
  color: white;
  padding: 10px 16px;
  font-weight: bold;
}
</style>
</head>

<body class="bg-gray-100">

<header class="bg-orange-600 text-white p-5 text-center shadow-lg">
<h1 class="text-xl font-bold">ğŸ‡¯ğŸ‡µ æ—¥æœ¬è¦ªå­è¡Œç¨‹</h1>
<p class="text-sm opacity-80">2026/3/11 - 3/16</p>
</header>

<!-- ===== è¡Œç¨‹å€ ===== -->

<section data-date="2026-03-11">
<div class="day-header">D1 | æŠµé”å¤§é˜ª</div>
<div class="p-4">
<div class="bg-white p-3 rounded shadow border-l-4 border-orange-400" data-energy="20">
<p class="font-bold">æŠµé”é£¯åº—ï¼‹æ¢…ç”°åˆé¤</p>
</div>
</div>
</section>

<section data-date="2026-03-12">
<div class="day-header">D2 | æµ·éŠé¤¨</div>
<div class="p-4 space-y-3">
<div class="bg-white p-3 rounded shadow border-l-4 border-blue-400" data-energy="35">
<p class="font-bold">æµ·éŠé¤¨</p>
</div>
<div class="bg-white p-3 rounded shadow border-l-4 border-gray-400" data-energy="10">
<p class="font-bold">å¤©ä¿å±±æ‘©å¤©è¼ª</p>
</div>
</div>
</section>

<section data-date="2026-03-13">
<div class="day-header">D3 | è½‰å ´åå¤å±‹</div>
<div class="p-4">
<div class="bg-white p-3 rounded shadow border-l-4 border-green-400" data-energy="30">
<p class="font-bold">æ–°å¹¹ç·šç§»å‹•</p>
</div>
</div>
</section>

<section data-date="2026-03-14">
<div class="day-header">D4 | å‰åœåŠ›å…¬åœ’</div>
<div class="p-4">
<div class="bg-white p-3 rounded shadow border-l-4 border-yellow-500" data-energy="50">
<p class="font-bold">å‰åœåŠ›å¤§å€‰åº«</p>
</div>
</div>
</section>

<section data-date="2026-03-15">
<div class="day-header">D5 | éµé“é¤¨ï¼‹å¤§é ˆ</div>
<div class="p-4">
<div class="bg-white p-3 rounded shadow border-l-4 border-purple-500" data-energy="40">
<p class="font-bold">ç£æµ®éµé“é¤¨</p>
</div>
</div>
</section>

<section data-date="2026-03-16">
<div class="day-header">D6 | æ¨‚é«˜æ¨‚åœ’ â” å›å°</div>
<div class="p-4">
<div class="bg-white p-3 rounded shadow border-l-4 border-yellow-400" data-energy="45">
<p class="font-bold">æ¨‚é«˜æ¨‚åœ’</p>
</div>
</div>
</section>

<!-- ===== é«”åŠ›æ¢ ===== -->

<div id="energyBarContainer" class="fixed bottom-0 left-0 w-full bg-white shadow-lg p-3">
<div class="flex justify-between text-xs mb-1">
<span>ä»Šæ—¥é«”åŠ›ä½¿ç”¨</span>
<span id="energyPercent">0%</span>
</div>
<div class="w-full bg-gray-200 rounded-full h-3">
<div id="energyBar" class="h-3 rounded-full bg-green-500" style="width:0%"></div>
</div>
</div>

<!-- ===== Script å€ ===== -->

<script>

/* è‡ªå‹•é¡¯ç¤ºä»Šå¤© */
function showTodaySchedule() {
const today = new Date().toISOString().split("T")[0];
const sections = document.querySelectorAll("section");
let foundToday = false;

sections.forEach(section => {
if(section.dataset.date === today){
section.style.display = "block";
foundToday = true;
} else {
section.style.display = "none";
}
});

/* å¦‚æœä¸æ˜¯æ—…éŠæœŸé–“ï¼Œå…¨éƒ¨é¡¯ç¤º */
if(!foundToday){
sections.forEach(section => section.style.display = "block");
}
}

/* è¨ˆç®—é«”åŠ› */
function calculateEnergy() {
let total = 0;
const limit = 100;

const visibleSection =
document.querySelector("section[style*='block']") ||
document.querySelector("section");

const items = visibleSection.querySelectorAll("[data-energy]");
items.forEach(item => total += parseInt(item.dataset.energy));

let percent = Math.min((total/limit)*100,120);

document.getElementById("energyBar").style.width = percent + "%";
document.getElementById("energyPercent").innerText =
Math.round(percent) + "%";

const bar = document.getElementById("energyBar");

if(percent >= 100){
bar.className = "h-3 rounded-full bg-red-500";
}
else if(percent >= 80){
bar.className = "h-3 rounded-full bg-orange-500";
}
else{
bar.className = "h-3 rounded-full bg-green-500";
}
}

window.addEventListener("load", function(){
showTodaySchedule();
calculateEnergy();
});

/* Service Worker */
if("serviceWorker" in navigator){
navigator.serviceWorker.register("service-worker.js");
}

</script>

</body>
</html>